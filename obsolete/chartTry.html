<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <link rel="stylesheet" href="css/customFitStyling.css" type="text/css">
    <link rel="stylesheet" href="css/w3c_v4.css" type="text/css">
    <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/moment.js"></script>
    <script type="text/javascript" src="js/Chart.min.js"></script>
  </head>
  <body>

    <canvas id="theChart" width="400" height="400"></canvas>

    <script>
    // Plug-in to colour chart background.
    /*Chart.pluginService.register(
    {
      beforeDraw: function (chart, easing)
      {
        if (chart.config.options.chartArea && chart.config.options.chartArea.backgroundColor)
        {
          var helpers = Chart.helpers;
          var ctx = chart.chart.ctx;
          var chartArea = chart.chartArea;

          ctx.save();
          var myGradient = ctx.createLinearGradient(0, 0, 0, 360);
          myGradient.addColorStop(0, "#d36363");
          myGradient.addColorStop(0.30, "#89e894");
          //myGradient.addColorStop(0.30, "#ffffff");
          //myGradient.addColorStop(0.40, "#ffffff");
          myGradient.addColorStop(0.5, "#6eadea");
          myGradient.addColorStop(0.80, "#89e894");
          //myGradient.addColorStop(0.70, "#ffffff");
          //myGradient.addColorStop(0.80, "#ffffff");
          myGradient.addColorStop(1, "#d36363");
          ctx.fillStyle = myGradient;
          ctx.globalAlpha = 0.6;
          ctx.fillRect(chartArea.left, chartArea.top, chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);
          ctx.restore();
        }
      }
    });*/

    // Fetch date via moment.js
    function newDate(days)
    {
      return moment().add(days, 'd');
    };

    var config =
    {
      type: 'line',
      data:
      {
        // Use fetched date to track progress over time.
        labels: [newDate(-4), newDate(-3), newDate(2), newDate(3), newDate(4), newDate(5), newDate(6)],

        // Feed data to chart.
        datasets:
        [{
          label: "Strength",
          data: [2, 3, 4, 2, 1, 4],
          backgroundColor: 'rgba(0, 0, 255, 0)',
            borderColor: 'rgba(0, 0, 255, 1)',
            borderWidth: 1.5
          },
          {
            label: "Cardio",
            data: [1, 3, 2, 3, 3],
            backgroundColor: 'rgba(255, 0, 0, 0)',
            borderColor: 'rgba(200, 0, 0, 1)',
            borderWidth: 1.5
          }]
        },

        // Configure axis.
        options:
        {
          chartArea:
          {
            backgroundColor: '#ffffff',
          },
          scales:
          {
            xAxes:
            [{
              ticks:
              {
                suggestedMax: 4,
                suggestedMin: 4,
                stepSize: 1
              },
              type: 'time',
              time:
              {
                unit: 'week',
                //unitStepSize: 1
                displayFormats:
                {
                   'hour': 'MMM DD',
                   'day': 'MMM DD',
                   'week': 'MMM DD',
                   'month': 'MMM DD',
                   'year': 'MMM DD'
                 }
              }
            }],
            yAxes:
            [{
              ticks:
              {
                max: 4,
                min: 0,
                stepSize: 1
              }
            }]
          },
        }
    };

    // Create chart with previously determined configurations.
    var ctx = document.getElementById("theChart").getContext("2d");
    new Chart(ctx, config);
    Chart.defaults.global.defaultFontColor = "#58a7dd";
    Chart.defaults.global.defaultFontSize = "10";
    </script>
  </body>
</html>
